<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Black-Box Optimization Toolkit • bbotk</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<link href="extra.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Black-Box Optimization Toolkit">
<meta property="og:description" content="Provides a common framework for optimization of black-box
    functions for other packages, e.g. mlr3tuning or mlr3fselect.  It
    offers various optimization methods e.g. grid search, random search,
    generalized simulated annealing and iterated racing.">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org"></a>
        <a class="navbar-brand" href="index.html">bbotk <small>v0.3.2.9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa-link"></span>
     
    mlr3book
  </a>
</li>
<li>
  <a href="articles/bbotk.html">Get started</a>
</li>
        <li>
  <a href="https://github.com/mlr-org/bbotk/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="bbotk---black-box-optimization-toolkit" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#bbotk---black-box-optimization-toolkit" class="anchor"></a>bbotk - Black-Box Optimization Toolkit</h1></div>
<p>Package website: <a href="https://bbotk.mlr-org.com/">release</a> | <a href="https://bbotk.mlr-org.com/dev/">dev</a></p>
<!-- badges: start -->
<p><a href="https://github.com/mlr-org/bbotk/actions"><img src="https://github.com/mlr-org/bbotk/workflows/tic/badge.svg?branch=main" alt="tic"></a> <a href="https://cran.r-project.org/package=bbotk"><img src="https://www.r-pkg.org/badges/version-ago/bbotk" alt="CRAN Status Badge"></a> <!-- badges: end --></p>
<p>This package provides a common framework for optimization including</p>
<ul>
<li>
<code>Optimizer</code>: Objects of this class allow you to optimize an object of the class <code>OptimInstance</code>.</li>
<li>
<code>OptimInstance</code>: Defines the optimization problem, consisting of an <code>Objective</code>, the <code>search_space</code> and a <code>Terminator</code>. All evaluations on the <code>OptimInstance</code> will be automatically stored in its own <code>Archive</code>.</li>
<li>
<code>Objective</code>: Objects of this class contain the objective function. The class ensures that the objective function is called in the right way and defines, whether the function should be minimized or maximized.</li>
<li>
<code>Terminator</code>: Objects of this class control the termination of the optimization independent of the optimizer.</li>
</ul>
<p>Various optimization methods are already implemented e.g. grid search, random search and generalized simulated annealing.</p>
<div id="resources" class="section level2">
<h2 class="hasAnchor">
<a href="#resources" class="anchor"></a>Resources</h2>
<ul>
<li>Package <a href="https://cran.r-project.org/web/packages/bbotk/vignettes/bbotk.html">vignette</a>
</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the last release from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"bbotk"</span><span class="op">)</span></code></pre></div>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"mlr-org/bbotk"</span><span class="op">)</span></code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div id="quick-optimization-with-bb_optimize" class="section level3">
<h3 class="hasAnchor">
<a href="#quick-optimization-with-bb_optimize" class="anchor"></a>Quick optimization with <code>bb_optimize</code>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://bbotk.mlr-org.com">bbotk</a></span><span class="op">)</span>

<span class="co"># define objective function</span>
<span class="va">fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xs</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>y <span class="op">=</span> <span class="op">-</span> <span class="op">(</span><span class="va">xs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">-</span> <span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="op">(</span><span class="va">xs</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># optimize function with random search</span>
<span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="reference/bb_optimize.html">bb_optimize</a></span><span class="op">(</span><span class="va">fun</span>, method <span class="op">=</span> <span class="st">"random_search"</span>, lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="op">-</span><span class="fl">5</span><span class="op">)</span>, upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span><span class="op">)</span>, max_evals <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>

<span class="co"># optimized parameters</span>
<span class="va">result</span><span class="op">$</span><span class="va">par</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">##           x1       x2</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">## 1: -7.982537 4.273021</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># optimal outcome</span>
<span class="va">result</span><span class="op">$</span><span class="va">value</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">##        y1 </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">## -142.5479</span></span></code></pre></div>
</div>
<div id="advanced-optimization" class="section level3">
<h3 class="hasAnchor">
<a href="#advanced-optimization" class="anchor"></a>Advanced optimization</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define objective function</span>
<span class="va">fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xs</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>y <span class="op">=</span> <span class="op">-</span> <span class="op">(</span><span class="va">xs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">-</span> <span class="fl">2</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="op">(</span><span class="va">xs</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># set domain</span>
<span class="va">domain</span> <span class="op">=</span> <span class="fu">ps</span><span class="op">(</span>
  x1 <span class="op">=</span> <span class="fu">p_dbl</span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span>,
  x2 <span class="op">=</span> <span class="fu">p_dbl</span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># set codomain</span>
<span class="va">codomain</span> <span class="op">=</span> <span class="fu">ps</span><span class="op">(</span>
  y <span class="op">=</span> <span class="fu">p_dbl</span><span class="op">(</span>tags <span class="op">=</span> <span class="st">"maximize"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># create Objective object</span>
<span class="va">objective</span> <span class="op">=</span> <span class="va"><a href="reference/ObjectiveRFun.html">ObjectiveRFun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  fun <span class="op">=</span> <span class="va">fun</span>,
  domain <span class="op">=</span> <span class="va">domain</span>,
  codomain <span class="op">=</span> <span class="va">codomain</span>,
  properties <span class="op">=</span> <span class="st">"deterministic"</span>
<span class="op">)</span>

<span class="co"># Define termination criterion</span>
<span class="va">terminator</span> <span class="op">=</span> <span class="fu"><a href="reference/trm.html">trm</a></span><span class="op">(</span><span class="st">"evals"</span>, n_evals <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="co"># create optimization instance</span>
<span class="va">instance</span> <span class="op">=</span> <span class="va"><a href="reference/OptimInstanceSingleCrit.html">OptimInstanceSingleCrit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  objective <span class="op">=</span> <span class="va">objective</span>,
  terminator <span class="op">=</span> <span class="va">terminator</span>
<span class="op">)</span>

<span class="co"># load optimizer</span>
<span class="va">optimizer</span> <span class="op">=</span> <span class="fu"><a href="reference/opt.html">opt</a></span><span class="op">(</span><span class="st">"gensa"</span><span class="op">)</span>

<span class="co"># trigger optimization</span>
<span class="va">optimizer</span><span class="op">$</span><span class="fu">optimize</span><span class="op">(</span><span class="va">instance</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">##           x1        x2  x_domain        y</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">## 1: 0.3359377 -2.310494 &lt;list[2]&gt; 6.755478</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># best performing configuration</span>
<span class="va">instance</span><span class="op">$</span><span class="va">result</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">##           x1        x2  x_domain        y</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">## 1: 0.3359377 -2.310494 &lt;list[2]&gt; 6.755478</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># all evaluated configuration</span>
<span class="fu">as.data.table</span><span class="op">(</span><span class="va">instance</span><span class="op">$</span><span class="va">archive</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">##             x1        x2          y           timestamp batch_nr x_domain_x1 x_domain_x2</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">##  1:  0.3359367 -2.310494   6.755475 2021-07-06 16:19:57        1   0.3359367   -2.310494</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">##  2: -0.9046005  4.567793 -55.708198 2021-07-06 16:19:57        2  -0.9046005    4.567793</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">##  3: -7.8034191 -2.551681 -86.308016 2021-07-06 16:19:57        3  -7.8034191   -2.551681</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">##  4: -8.3482136 -2.551681 -97.286514 2021-07-06 16:19:57        4  -8.3482136   -2.551681</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">##  5: -8.3482136 -1.985619 -98.114492 2021-07-06 16:19:57        5  -8.3482136   -1.985619</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">##  6:  0.3359367 -2.310494   6.755475 2021-07-06 16:19:57        6   0.3359367   -2.310494</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">##  7:  0.3359377 -2.310494   6.755478 2021-07-06 16:19:57        7   0.3359377   -2.310494</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">##  8:  0.3359357 -2.310494   6.755472 2021-07-06 16:19:57        8   0.3359357   -2.310494</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">##  9:  0.3359367 -2.310493   6.755474 2021-07-06 16:19:57        9   0.3359367   -2.310493</span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">## 10:  0.3359367 -2.310495   6.755476 2021-07-06 16:19:57       10   0.3359367   -2.310495</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=bbotk">https://​cloud.r-project.org/​package=bbotk</a>
</li>
<li>Browse source code at <br><a href="https://github.com/mlr-org/bbotk/">https://​github.com/​mlr-org/​bbotk/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mlr-org/bbotk/issues">https://​github.com/​mlr-org/​bbotk/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Marc Becker <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-8115-0400" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Jakob Richter <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4481-5554" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Michel Lang <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-9754-0393" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Bernd Bischl <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6002-6980" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Martin Binder <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Marc Becker, Jakob Richter, Michel Lang, Bernd Bischl, Martin Binder.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
